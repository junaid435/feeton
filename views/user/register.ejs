
<%- include('../user/layouts/header.ejs') %>


	<!--================Login Box Area =================-->
	<section class="login_box_area section_gap mt-5">
		<div class="container">
			<div class="row">
				<div class="col-lg-12  px-5 pb-5">
					<div class="login_form_inner pb-5">
					
						<% if (typeof message !== 'undefined') { %>
							<p style="color: green;"><%= message %></p>
						  <% } %>
						  <% if (typeof messageRed !== 'undefined') { %>
							<p style="color: red;"><%= messageRed %></p>
						  <% } %>
						<h3 draggable="false">sign-up</h3>
				
						<form class="row login_form" action="/register" method="post">
							<div class="col-md-12 form-group">
								<input type="text" class="form-control"  id="name" name="name" placeholder="Username"  minlength="6" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Username'" required>
							   <span class="text-danger" id="User_error"></span>
							</div>
							<div class="col-md-12 form-group">
								<input type="email" class="form-control" id="email" name="email" placeholder="email"   onfocus="this.placeholder = ''" onblur="this.placeholder = 'email'" required>
							    <span class="text-danger" id="Email_error"></span>
							</div>
							<div class="col-md-12 form-group">
								<input type="text" class="form-control" id="MobileNumber" name="MobileNumber" placeholder="MobileNumber" pattern="[0-9]+" minlength="10" maxlength="10"  onfocus="this.placeholder = ''" onblur="this.placeholder = 'MobileNumber'" required>
								<span class="text-danger" id="Number_error"></span>

							</div>
							<div class="col-md-12 form-group"> 
								<input type="password" class="form-control" id="Password" name="Password" placeholder="Password"  onfocus="this.placeholder = ''" onblur="this.placeholder = 'Password'" required>
								<span class="text-danger" id="Password_error"></span>
							</div>
							<div class=" col-md-12 form-group">
								<input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="confirmPassword"   onfocus="this.placeholder = ''" onblur="this.placeholder = 'confirmPassword'"  required>
							</div>
							<div class="col-md-12 form-group">
								<button type="submit" value="submit" class="primary-btn">sign-up</button>
							</div>
							<p class="ml-5">
								Already have an account? <a href="/login">sign in</a></p>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>

	<script>
   const name=document.getElementById('name')
   const email=document.getElementById('email')
   const mobile=document.getElementById('MobileNumber')
   const password=document.getElementById('Password')
   const Email_error=document.getElementById('Email_error')
   const User_error=document.getElementById('User_error')
   const Number_errorr=document.getElementById('Number_error')
   const Password_error=document.getElementById('Password_error')
   const confirmPassword=document.getElementById('confirmPassword')
  
      

        name.addEventListener("input",()=>{
            if(name.value.trim()==""){
				name.setCustomValidity("please enter the name")
            	User_error.innerHTML ="please enter the name"
				return false
            }
			else{
				User_error.innerHTML =""
				name.setCustomValidity("")

			return true
			}
		
        })
        email.addEventListener("input",()=>{
			if(email.value.trim()==""){
				email.setCustomValidity("please enter  a valid email")
				Email_error.innerHTML ="please enter  a valid email"
				return false
			}
			else{
				Email_error.innerHTML =""
				email.setCustomValidity('')
		return true
			}
        })
		
        mobile.addEventListener("input",()=>{
			
			if (!mobile.value.match(/^\d+$/)){
						mobile.setCustomValidity('please enter the Number')
						Number_errorr.innerHTML ="please enter the Number"
			return false
		}
			else{
				mobile.setCustomValidity('')
				Number_errorr.innerHTML =""
			return true
			}
			
        })
        password.addEventListener("input",()=>{
            if(!password.value.match( /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)){
				password.setCustomValidity('please enter the password')
				Password_error.innerHTML ="Password is too short (minimum is 8 characters), needs at least 1 number"
            }
			else{
				Password_error.innerHTML =""
				password.setCustomValidity('')
			return true
			}
		

        })

		confirmPassword.addEventListener('input', ()=> {
                if (confirmPassword.value !== password.value) {
                    confirmPassword.setCustomValidity('Confirm password and new password not matching');
                } else if (confirmPassword.value.trim() === '') {
                    confirmPassword.setCustomValidity('Please enter the password');
                } else {
                    confirmPassword.setCustomValidity('');
                }
            });
	
	 
        </script>
	
	<!--================End Login Box Area =================-->

	<%- include('../user/layouts/footer.ejs') %>